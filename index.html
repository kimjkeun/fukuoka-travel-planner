<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>후쿠오카 여행 일정</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <style>
        .timeline {
            border-left: 3px solid #dee2e6;
            padding-left: 20px;
            position: relative;
        }
        .timeline-item {
            margin-bottom: 30px;
            position: relative;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 3px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #0d6efd;
        }
        .completed::before {
            background: #198754;
        }
        .nav-pills .nav-link.active {
            background-color: #0d6efd;
        }
        .badge-check {
            background-color: #198754;
        }
        .header-image {
            background-image: url('https://www.japan-guide.com/g18/6901_01.jpg');
            background-size: cover;
            background-position: center;
            height: 500px;
            position: relative;
            margin-bottom: 2rem;
        }
        .header-overlay {
            background: rgba(0, 0, 0, 0.5);
            height: 100%;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        .header-content {
            padding: 2rem;
            text-align: center;
        }
        .header-title {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
        }
        .header-subtitle {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .alert-info {
            background-color: rgba(255, 255, 255, 0.9);
            margin-top: 2rem;
        }
        .map-container {
            position: relative;
            width: 100%;
            height: 400px;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .map-container iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }
        .photo-upload-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .photo-item {
            position: relative;
            padding-bottom: 100%;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .photo-item img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .photo-item:hover img {
            transform: scale(1.05);
        }
        .modal-body img {
            max-width: 100%;
            height: auto;
        }
        .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .photo-item:hover .delete-btn {
            opacity: 1;
        }
        .share-section {
            background: #e9ecef;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .share-link {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #fff;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .imgur-upload {
            margin-top: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="header-image">
        <div class="header-overlay">
            <div class="header-content">
                <h1 class="header-title">🐶 지똥이 Family</h1>
                <h3 class="header-subtitle">후쿠오카 모험</h3>
                <p class="lead">2024년 1월 13일 - 17일</p>
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="alert alert-info" role="alert">
                            <h4 class="alert-heading">☀️ 우리 가족의 특별한 여행!</h4>
                            <p>지똥이와 떠나는 해외여행! 맛있는 음식도 먹고, 멋진 풍경도 보고, 즐거운 추억을 만들어볼까요?🎈</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container my-5">
        <ul class="nav nav-pills mb-4 justify-content-center" id="tripTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#day1">Day 1</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#day2">Day 2</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#day3">Day 3</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#day4">Day 4</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#day5">Day 5</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#info">🏨 숙소/교통</button>
            </li>
        </ul>

        <div class="tab-content" id="tripTabContent">
            <!-- Day 1 -->
            <div class="tab-pane fade show active" id="day1">
                <h3 class="mb-4">Day 1 (1/13 월) - 후쿠오카 도착</h3>
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m40!1m12!1m3!1d26557.485834264785!2d130.34387716907958!3d33.58931512827905!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m25!3e0!4m5!1s0x3541c2c12c3f4a0f%3A0x9c5f6e9725b0d14c!2sFukuoka%20Airport%2C%20Fukuoka%2C%20Japan!3m2!1d33.5902!2d130.4419!4m5!1s0x3541923cdf83c23b%3A0x3b05d5c8218f5b35!2sFukuoka%20Tower%2C%20Momochihama%2C%20Sawara%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.5935599!2d130.3513866!4m5!1s0x354191c7e6f9b375%3A0x2ee22b3d45b98b90!2sMitsui%20Garden%20Hotel%20Fukuoka%20Gion%2C%20Japan%2C%20%E3%80%92810-0801%20Fukuoka%2C%20Hakata%20Ward!3m2!1d33.590802!2d130.41082199999998!4m5!1s0x354191958e0b3e45%3A0x1441a58a161ba90c!2sMotsu%20Nabe%20Oyama%2C%20Watanabe-dori%2C%20Chuo%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.5883095!2d130.39653089999998!5e0!3m2!1sen!2skr!4v1705466837283!5m2!1sen!2skr" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="timeline">
                    <div class="timeline-item completed">
                        <h5>12:40 - 인천공항 출발 ✈️</h5>
                        <p class="text-muted">OZ142</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>14:00 - 후쿠오카 공항 도착</h5>
                        <p class="text-muted">입국 수속 및 렌트카 픽업</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>15:30-18:00 - 모모치 해변 & 후쿠오카 타워 🌅</h5>
                        <p class="text-muted">석양 명소</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>18:30 - 미쓰이 가든 호텔 체크인 🏨</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>19:00-20:30 - 모츠나베 오오야마 본점 🍲</h5>
                        <p class="text-muted">저녁 식사</p>
                    </div>
                    <div class="timeline-item">
                        <h5>21:00-22:00 - 나카스 야타이/술집 탐방 🍺</h5>
                        <p class="text-muted">선택: 야키토리 토리쇼, 안메이</p>
                    </div>
                </div>
                <div class="photo-upload-section">
                    <h4>📸 Day 1 사진첩</h4>
                    <input type="file" class="form-control mb-3" multiple accept="image/*" 
                           onchange="handleFileSelect(event, 'day1')">
                    <div class="photo-gallery"></div>
                </div>
            </div>

            <!-- Day 2 -->
            <div class="tab-pane fade" id="day2">
                <h3 class="mb-4">Day 2 (1/14 화) - 후쿠오카 시내</h3>
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m40!1m12!1m3!1d52973.329673010336!2d130.36419244863284!3d33.57931099999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m25!3e0!4m5!1s0x35419194b5c5f6e7%3A0x69e04762f5455275!2sOhori%20Park%2C%20Ohorikoen%2C%20Chuo%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.5902468!2d130.3773696!4m5!1s0x354191937469f23f%3A0x4f46b6a1cd2511!2sDazaifu%20Tenmangu%2C%20Saifu%2C%20Dazaifu%2C%20Fukuoka%2C%20Japan!3m2!1d33.5193764!2d130.5313239!4m5!1s0x35419185e6d96f75%3A0xd84d8f6d043b9aa5!2sCanal%20City%20Hakata%2C%20Sumiyoshi%2C%20Hakata%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.589456699999996!2d130.41127419999998!4m5!1s0x354191958e0b3e45%3A0x1441a58a161ba90c!2sYakitori%20Kuroda%2C%20Watanabe-dori%2C%20Chuo%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.5883095!2d130.39653089999998!5e0!3m2!1sen!2skr!4v1705466837283!5m2!1sen!2skr" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <h5>08:00-09:00 - 호텔 조식 🍳</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>09:00-10:00 - 오호리 공원 산책 🌳</h5>
                        <p class="text-muted">여유로운 산책</p>
                    </div>
                    <div class="timeline-item">
                        <h5>10:00-11:30 - 쿠로몬 커피 ☕</h5>
                        <p class="text-muted">오호리 공원 근처 카페</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>13:00-14:30 - 다자이후 천만궁 🏯</h5>
                        <p class="text-muted">참배길 상점가 포함</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>14:30-15:30 - 스타벅스 다자이후점 ☕</h5>
                        <p class="text-muted">일본 전통 건축양식의 유명 스타벅스</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>16:00-18:00 - 캐널시티 쇼핑 🛍️</h5>
                        <p class="text-muted">유니클로, 알펜 후쿠오카</p>
                    </div>
                    <div class="timeline-item completed">
                        <h5>18:00-19:30 - 장어덮밥 🍱</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>19:30-20:30 - 캐널시티 불빛 구경 ✨</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>20:30-22:00 - 야키토리 쿠로다 🍖</h5>
                    </div>
                </div>
                <div class="photo-upload-section">
                    <h4>📸 Day 2 사진첩</h4>
                    <input type="file" class="form-control mb-3" multiple accept="image/*" 
                           onchange="handleFileSelect(event, 'day2')">
                    <div class="photo-gallery"></div>
                </div>
            </div>

            <!-- Day 3 -->
            <div class="tab-pane fade" id="day3">
                <h3 class="mb-4">Day 3 (1/15 수) - 유후인</h3>
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m25!1m12!1m3!1d26700.12659453891!2d131.34829673910656!3d33.26444444044754!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m10!3e0!4m3!3m2!1d33.2636097!2d131.3706624!4m4!2s33.264445%2C131.348297!3m2!1d33.264445!2d131.348297!5e0!3m2!1sen!2skr!4v1705466837283!5m2!1sen!2skr" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <h5>09:00-11:00 - 유후인으로 이동 🚗</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>11:00-12:00 - 유노츠보 거리 🏃</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>12:00-13:30 - 나스야 (닭) 🍗</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>13:30-15:00 - 유후인 미르히 & 카페 투어 ☕</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>15:00-17:00 - 긴린 호수 🌅</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>17:00 - 히노하루 료칸 체크인 🏨</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>18:00-20:00 - 카이세키 디너 🍱</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>20:00- 온천 ♨️</h5>
                    </div>
                </div>
                <div class="photo-upload-section">
                    <h4>📸 Day 3 사진첩</h4>
                    <input type="file" class="form-control mb-3" multiple accept="image/*" 
                           onchange="handleFileSelect(event, 'day3')">
                    <div class="photo-gallery"></div>
                </div>
            </div>

            <!-- Day 4 -->
            <div class="tab-pane fade" id="day4">
                <h3 class="mb-4">Day 4 (1/16 목) - 벳푸 & 후쿠오카</h3>
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m40!1m12!1m3!1d211086.81866075887!2d130.97339445000002!3d33.37922565!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m25!3e0!4m5!1s0x3546a7e6b7b0e81d%3A0x981c108d6c992518!2sUmi%20Jigoku%2C%20Shibuyu%2C%20Beppu%2C%20Oita%2C%20Japan!3m2!1d33.3199444!2d131.4591667!4m5!1s0x3546a7e72f7f80c3%3A0x3a21e39e5af1c6c0!2sChinoike%20Jigoku%2C%20Noboribata%2C%20Beppu%2C%20Oita%2C%20Japan!3m2!1d33.319722199999996!2d131.46194439999998!4m5!1s0x354191b7bc6b1f3d%3A0x4a14ea6aa1e3e6a6!2sHotel%20Okura%20Fukuoka%2C%20Hakata-ekimae%2C%20Hakata%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.590555599999995!2d130.41861109999998!4m5!1s0x354191922525c7a5%3A0x3b6c5e23b8d53d40!2sNakasu%2C%20Hakata%20Ward%2C%20Fukuoka%2C%20Japan!3m2!1d33.593333299999995!2d130.4077778!5e0!3m2!1sen!2skr!4v1705466837283!5m2!1sen!2skr" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <h5>09:00-10:00 - 벳푸로 이동 🚗</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>10:00-12:00 - 지옥체험(바다 지옥) 🌊</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>12:00-13:30 - 스시 🍣</h5>
                    </div>
                    <div class="timeline-item completed">
                        <h5>13:30-15:00 - 피지옥/회오리 지옥 🌋</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>15:00-17:00 - 후쿠오카로 이동 🚗</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>17:00 - 호텔 오쿠라 체크인 🏨</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>18:00-21:00 - 하카타/나카스 자유시간 🎵</h5>
                        <p class="text-muted">선택: 에비스야 우동, 오코노미야키 아사야마</p>
                    </div>
                </div>
                <div class="photo-upload-section">
                    <h4>📸 Day 4 사진첩</h4>
                    <input type="file" class="form-control mb-3" multiple accept="image/*" 
                           onchange="handleFileSelect(event, 'day4')">
                    <div class="photo-gallery"></div>
                </div>
            </div>

            <!-- Day 5 -->
            <div class="tab-pane fade" id="day5">
                <h3 class="mb-4">Day 5 (1/17 금) - 귀국</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <h5>~11:00 - 호텔 체크아웃 준비</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>11:30 - 렌트카 반납 🚗</h5>
                    </div>
                    <div class="timeline-item">
                        <h5>15:00 - 후쿠오카 출발 ✈️</h5>
                        <p class="text-muted">OZ143</p>
                    </div>
                    <div class="timeline-item">
                        <h5>16:20 - 인천 도착 🏠</h5>
                    </div>
                </div>
                <div class="photo-upload-section">
                    <h4>📸 Day 5 사진첩</h4>
                    <input type="file" class="form-control mb-3" multiple accept="image/*" 
                           onchange="handleFileSelect(event, 'day5')">
                    <div class="photo-gallery"></div>
                </div>
            </div>

            <!-- 숙소 및 교통 정보 탭 -->
            <div class="tab-pane fade" id="info">
                <div class="row">
                    <!-- 숙소 정보 -->
                    <div class="col-md-6 mb-4">
                        <h3 class="mb-4">🏨 숙소 정보</h3>
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">미쓰이 가든 호텔 (1/13-15)</h5>
                                <p class="card-text">
                                    <i class="bi bi-geo-alt"></i> 나카스 강 근처<br>
                                    <i class="bi bi-train"></i> 나카스카와바타 역 도보 3분<br>
                                    <i class="bi bi-check-circle"></i> 야타이 도보 5분<br>
                                    <a href="https://maps.google.com/?q=Mitsui+Garden+Hotel+Fukuoka+Gion" target="_blank" class="btn btn-sm btn-outline-primary mt-2">
                                        <i class="bi bi-map"></i> 구글 지도
                                    </a>
                                </p>
                            </div>
                        </div>

                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">히노하루 료칸 (1/15-16)</h5>
                                <p class="card-text">
                                    <i class="bi bi-geo-alt"></i> 유후인 중심가 도보 10분<br>
                                    <i class="bi bi-water"></i> 온천과 가이세키 식사 포함<br>
                                    <a href="https://maps.google.com/?q=Yufuin+Hinoharu" target="_blank" class="btn btn-sm btn-outline-primary mt-2">
                                        <i class="bi bi-map"></i> 구글 지도
                                    </a>
                                </p>
                            </div>
                        </div>

                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">호텔 오쿠라 (1/16-17)</h5>
                                <p class="card-text">
                                    <i class="bi bi-geo-alt"></i> 하카타 역 근처<br>
                                    <i class="bi bi-airplane"></i> 공항 접근성 좋음<br>
                                    <a href="https://maps.google.com/?q=Hotel+Okura+Fukuoka" target="_blank" class="btn btn-sm btn-outline-primary mt-2">
                                        <i class="bi bi-map"></i> 구글 지도
                                    </a>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- 교통 및 이동 정보 -->
                    <div class="col-md-6">
                        <h3 class="mb-4">🚗 교통 및 이동 정보</h3>
                        
                        <!-- 렌트카 정보 -->
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">렌트카 정보</h5>
                                <p class="card-text">
                                    <i class="bi bi-calendar-check"></i> 픽업: 1/13 14:30 @ 후쿠오카 공항<br>
                                    <i class="bi bi-calendar-x"></i> 반납: 1/17 11:30 @ 후쿠오카 공항
                                </p>
                            </div>
                        </div>

                        <!-- 주요 이동 거리 -->
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5 class="card-title">주요 이동 거리</h5>
                                <ul class="list-unstyled">
                                    <li class="mb-2">
                                        <i class="bi bi-arrow-right"></i> 공항 → 모모치 해변: 약 20분 (7km)
                                    </li>
                                    <li class="mb-2">
                                        <i class="bi bi-arrow-right"></i> 모모치 해변 → 호텔: 약 15분 (5km)
                                    </li>
                                    <li class="mb-2">
                                        <i class="bi bi-arrow-right"></i> 호텔 → 다자이후: 약 30분 (15km)
                                    </li>
                                    <li class="mb-2">
                                        <i class="bi bi-arrow-right"></i> 후쿠오카 → 유후인: 약 2시간 (80km)
                                    </li>
                                    <li class="mb-2">
                                        <i class="bi bi-arrow-right"></i> 유후인 → 벳푸: 약 40분 (30km)
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!-- 대중교통 정보 -->
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">대중교통 정보</h5>
                                <p class="card-text">
                                    <i class="bi bi-train"></i> <strong>지하철</strong><br>
                                    - 공항선: 공항 → 하카타 역 (약 5분)<br>
                                    - 쿠코선: 하카타 → 텐진 (약 5분)<br>
                                    <i class="bi bi-bus-front"></i> <strong>버스</strong><br>
                                    - 니시테츠 버스: 시내 주요 관광지 연결
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 공유하기 섹션 추가 -->
    <div class="container my-4">
        <div class="share-section">
            <h4>🤝 여행 공유하기</h4>
            <p>친구들과 여행 일정을 공유해보세요!</p>
            <div class="share-buttons">
                <button class="btn btn-primary" onclick="shareKakao()">
                    <i class="bi bi-chat-fill"></i> 카카오톡
                </button>
                <button class="btn btn-success" onclick="copyLink()">
                    <i class="bi bi-link-45deg"></i> 링크 복사
                </button>
                <button class="btn btn-info" onclick="shareEmail()">
                    <i class="bi bi-envelope-fill"></i> 이메일
                </button>
            </div>
            <div id="shareLink" class="share-link"></div>
        </div>
    </div>

    <!-- 사진 모달 -->
    <div class="modal fade" id="photoModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">여행 사진</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="" class="img-fluid">
                </div>
            </div>
        </div>
    </div>

    <script>
        // 페이지 로드 시 저장된 사진 불러오기
        document.addEventListener('DOMContentLoaded', function() {
            for (let i = 1; i <= 5; i++) {
                loadPhotos(`day${i}`);
            }
        });

        // 파일 업로드 처리
        async function handleFileSelect(event, dayId) {
            const files = event.target.files;
            const gallery = document.querySelector(`#${dayId} .photo-gallery`);
            
            for (let file of files) {
                if (file.type.startsWith('image/')) {
                    try {
                        // Imgur에 업로드
                        const imageUrl = await uploadToImgur(file);
                        if (imageUrl) {
                            // 갤러리에 사진 추가
                            addPhotoToGallery(dayId, imageUrl);
                            // LocalStorage에 URL 저장
                            savePhoto(dayId, imageUrl);
                        }
                    } catch (error) {
                        console.error('사진 업로드 실패:', error);
                        alert('사진 업로드에 실패했습니다. 다시 시도해주세요.');
                    }
                }
            }
        }

        // Imgur 업로드 함수
        async function uploadToImgur(file) {
            const formData = new FormData();
            formData.append('image', file);

            try {
                const response = await fetch('https://api.imgur.com/3/image', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Client-ID 20279b9eadaa1d6'
                    },
                    body: formData
                });
                const data = await response.json();
                if (data.success) {
                    return data.data.link;
                } else {
                    throw new Error('Imgur 업로드 실패');
                }
            } catch (error) {
                console.error('Imgur 업로드 실패:', error);
                throw error;
            }
        }

        // 갤러리에 사진 추가
        function addPhotoToGallery(dayId, imageUrl) {
            const gallery = document.querySelector(`#${dayId} .photo-gallery`);
            const div = document.createElement('div');
            div.className = 'photo-item';
            div.innerHTML = `
                <img src="${imageUrl}" alt="여행 사진" onclick="showInModal(this.src)">
                <button class="btn btn-sm btn-danger delete-btn" onclick="deletePhoto(this, '${dayId}', '${imageUrl}')">
                    <i class="bi bi-trash"></i>
                </button>`;
            gallery.appendChild(div);
        }

        // LocalStorage에 사진 URL 저장
        function savePhoto(dayId, imageUrl) {
            let photos = JSON.parse(localStorage.getItem(`${dayId}_photos`) || '[]');
            photos.push(imageUrl);
            localStorage.setItem(`${dayId}_photos`, JSON.stringify(photos));
        }

        // 저장된 사진 불러오기
        function loadPhotos(dayId) {
            const photos = JSON.parse(localStorage.getItem(`${dayId}_photos`) || '[]');
            photos.forEach(imageUrl => {
                addPhotoToGallery(dayId, imageUrl);
            });
        }

        // 사진 삭제
        function deletePhoto(element, dayId, imageUrl) {
            if (confirm('이 사진을 삭제하시겠습니까? (Imgur에 업로드된 사진은 계속 유지됩니다)')) {
                // DOM에서 삭제
                element.parentElement.remove();
                // LocalStorage에서 URL 삭제
                let photos = JSON.parse(localStorage.getItem(`${dayId}_photos`) || '[]');
                photos = photos.filter(photo => photo !== imageUrl);
                localStorage.setItem(`${dayId}_photos`, JSON.stringify(photos));
            }
        }

        // 모달에서 사진 보기
        function showInModal(src) {
            const modal = document.getElementById('photoModal');
            const modalImg = modal.querySelector('.modal-body img');
            modalImg.src = src;
            new bootstrap.Modal(modal).show();
        }
    </script>

    <!-- Kakao SDK 추가 -->
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    
    <script>
        // Kakao SDK 초기화
        Kakao.init('39e61db488fb67cb79cf31e00672b196');

        // 카카오톡 공유
        function shareKakao() {
            Kakao.Link.sendDefault({
                objectType: 'feed',
                content: {
                    title: '🐶 지똥이와 함께하는 후쿠오카 여행',
                    description: '2024년 1월 13일 - 17일 후쿠오카 여행 일정입니다!',
                    imageUrl: 'https://www.japan-guide.com/g18/6901_01.jpg',
                    link: {
                        mobileWebUrl: window.location.href,
                        webUrl: window.location.href,
                    },
                },
                buttons: [
                    {
                        title: '일정 보기',
                        link: {
                            mobileWebUrl: window.location.href,
                            webUrl: window.location.href,
                        },
                    },
                ],
            });
        }

        // 링크 복사
        function copyLink() {
            const shareLink = document.getElementById('shareLink');
            const currentUrl = window.location.href;
            shareLink.style.display = 'block';
            shareLink.textContent = currentUrl;
            
            navigator.clipboard.writeText(currentUrl).then(() => {
                alert('링크가 복사되었습니다!');
            }).catch(err => {
                console.error('링크 복사 실패:', err);
            });
        }

        // 이메일 공유
        function shareEmail() {
            const subject = encodeURIComponent('🐶 지똥이와 함께하는 후쿠오카 여행');
            const body = encodeURIComponent(`안녕하세요!\n\n2024년 1월 13일 - 17일 후쿠오카 여행 일정을 공유합니다.\n\n${window.location.href}`);
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>